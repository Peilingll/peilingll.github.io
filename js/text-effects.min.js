window.TextEffects=function(){const l=this;let t=[],n={};this.init=function(){if(t=document.querySelectorAll(".main-text-row"),t.length===0)return;t.forEach(e=>{const o=e.querySelector(".main-text"),t=e.dataset.id;o&&t&&(n[t]=s(o),i(e,t))})};function s(e){const t=e.textContent,n=[];e.innerHTML="",e.style.display="flex",e.style.alignItems="center";for(let o=0;o<t.length;o++){const r=t[o];if(r===" "){const t=document.createElement("span");t.innerHTML="&nbsp;",t.style.width="0.5em",e.appendChild(t);continue}const s=document.createElement("span");s.className="char-wrapper",s.style.cssText=`
      display: inline-flex;
      align-items: center;
      position: relative;
    `;const i=document.createElement("span");i.className="char",i.textContent=r;const a=document.createElement("span");a.className="char-divider",a.style.cssText=`
      width: 2px;
      height: 1em;
      background: currentColor;
      opacity: 0;
      margin: 0;
      transition: all 0.4s ease;
    `,s.appendChild(i),o<t.length-1&&s.appendChild(a),e.appendChild(s),n.push(s)}return{chars:n,originalText:t}}function i(t,n){const s=t.querySelector(".interactive-area"),i=t.querySelector(".main-text");if(!s||!i)return;s.addEventListener("mouseenter",function(){o(t,n)}),s.addEventListener("mouseleave",function(){e(t,n)}),s.addEventListener("click",function(){a(t,n)})}function o(e,t){if(window.HeroState.activeTextId===t)return;window.HeroMain.setActiveText(t),e.classList.add("active"),r(t);const n=e.querySelector(".main-text");gsap.to(n,{duration:.5,color:"var(--main-text-hover-color)",scale:1.05,ease:"power2.out"})}function e(e,t){if(window.HeroState.activeTextId!==t)return;window.HeroMain.clearActiveText(),e.classList.remove("active"),c(t);const n=e.querySelector(".main-text");gsap.to(n,{duration:.5,color:"var(--main-text-color)",scale:1,ease:"power2.out"})}function a(n,s){window.HeroState.activeTextId===s?e(n,s):(t.forEach(t=>{if(t!==n&&t.classList.contains("active")){const n=t.dataset.id;e(t,n)}}),o(n,s))}function s(e){const t=e.textContent,n=[];e.innerHTML="",e.style.display="flex",e.style.position="relative";for(let a=0;a<t.length;a++){const r=t[a];if(r===" "){const t=document.createElement("span");t.innerHTML="&nbsp;",t.style.width="0.5em",e.appendChild(t);continue}const s=document.createElement("span");s.className="char-wrapper",s.style.cssText=`
      position: relative;
      display: inline-block;
      overflow: hidden;
    `;const o=document.createElement("span");o.className="char",o.textContent=r,o.style.cssText=`
      display: inline-block;
      position: relative;
      z-index: 1;
      transition: transform 0.4s ease;
    `;const i=document.createElement("span");i.className="char-divider",i.style.cssText=`
      position: absolute;
      right: -1px;
      top: 50px;
      height: 50%;
      width: 2px;
      background: currentColor;
      opacity: 0;
      z-index: 2;
      transition: opacity 0.4s ease;
    `,s.appendChild(o),s.appendChild(i),e.appendChild(s),n.push({wrapper:s,char:o,divider:i})}return{chars:n,originalText:t}}function r(e){const t=n[e];if(!t||!t.chars)return;t.chars.forEach((e,t)=>{gsap.to(e.char,{x:15,duration:.4,delay:t*.02,ease:"power2.out"}),gsap.to(e.divider,{opacity:.5,duration:.3,delay:t*.02,ease:"power2.out"})})}function c(e){const t=n[e];if(!t||!t.chars)return;t.chars.forEach((e,t)=>{gsap.to(e.char,{x:0,duration:.4,delay:t*.01,ease:"power2.out"}),gsap.to(e.divider,{opacity:0,duration:.3,delay:t*.01,ease:"power2.out"})})}this.handleResize=function(){Object.keys(n).forEach(e=>{const t=n[e];if(t&&t.chars){const e=window.innerWidth<768,n=e?40:60,s=e?60:100;t.chars.forEach(e=>{e&&e.char&&e.char.style&&(e.char.style.maxWidth=n+"px",e.char.dataset.expandWidth=s)})}})},this.reset=function(){t.forEach(t=>{const n=t.dataset.id;t.classList.contains("active")&&e(t,n)})},this.onActiveTextChange=function(t,n){if(n&&n!==t){const t=document.querySelector(`[data-id="${n}"]`);t&&e(t,n)}},this.onActiveTextClear=function(t){if(t){const n=document.querySelector(`[data-id="${t}"]`);n&&e(n,t)}},this.init()}