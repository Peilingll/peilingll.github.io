window.BackgroundText=function(){const a=this;let e=[],t=null;this.init=function(){if(e=Array.from(document.querySelectorAll(".bg-text")),e.length===0)return;e.forEach((e,t)=>{n(e,t)}),s(),setTimeout(i,3e3)};function n(e,t){const n=e.textContent;e.dataset.originalText=n,e.dataset.index=t,e.style.opacity="0",gsap.delayedCall(t*.2,function(){gsap.to(e,{opacity:.8,duration:.5,ease:"power2.out"})})}function s(){t&&clearInterval(t);const n=()=>{if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];o(t)}const t=3e3+Math.random()*2e3;setTimeout(n,t)};setTimeout(n,2e3)}function o(e){if(!e||e.classList.contains("typing-active"))return;const t=e.dataset.originalText;if(!t)return;e.classList.add("typing-active"),e.textContent="";const n=gsap.timeline({onComplete:function(){e.classList.remove("typing-active")}});let s="";for(let o=0;o<=t.length;o++)n.call(()=>{s=t.substring(0,o),e.textContent=s,o<t.length&&(e.textContent+="|",setTimeout(()=>{e.textContent.endsWith("|")&&(e.textContent=e.textContent.slice(0,-1))},300))},null,o*.1);n.call(()=>{e.textContent=t},null,"+=0.5")}function i(){const t=()=>{if(e.length===0)return;const n=e[Math.floor(Math.random()*e.length)];n.classList.contains("typing-active")||(n.classList.add("flicker"),setTimeout(()=>{n.classList.remove("flicker")},300));const s=1e3+Math.random()*3e3;setTimeout(t,s)};t()}this.handleResize=function(){const t=window.innerWidth<768,n=window.innerWidth<1024;e.forEach(e=>{t?e.style.fontSize="10px":n?e.style.fontSize="12px":e.style.fontSize="14px"})},this.reset=function(){t&&(clearInterval(t),t=null),e.forEach(e=>{e.classList.remove("typing-active","flicker"),e.textContent=e.dataset.originalText,gsap.set(e,{color:"var(--bg-text-color)",opacity:.8})}),s()},this.onActiveTextChange=function(t){t&&e.forEach(e=>{gsap.to(e,{opacity:.6,duration:.5,ease:"power2.out"})})},this.onActiveTextClear=function(){e.forEach(e=>{gsap.to(e,{opacity:.8,duration:.5,ease:"power2.out"})})},this.addBackgroundText=function(t,s){const o=document.createElement("div");o.className="bg-text",o.textContent=t,o.dataset.originalText=t,s&&Object.assign(o.style,s);const i=document.querySelector(".background-text-container");i&&(i.appendChild(o),e.push(o),n(o,e.length-1))},this.removeBackgroundText=function(t){if(t>=0&&t<e.length){const n=e[t];n.remove(),e.splice(t,1)}},this.triggerTyping=function(t){t>=0&&t<e.length&&o(e[t])},this.init()}