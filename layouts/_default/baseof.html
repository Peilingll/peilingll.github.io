<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang | default "en" }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>
  <link rel="icon" href="/images/favicon.png" type="image/png" />
  
  {{ $useGSAP := .Site.Params.hero.useGSAP | default false }}

  <!-- Existing CSS (Tailwind, etc.) -->
  {{ with (templates.Defer (dict "key" "global")) }}
    {{ partial "css.html" . }}
  {{ end }}

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  {{ if $useGSAP }}
  <!-- Hero modular CSS -->
  {{ $heroBase := resources.Get "css/hero-base.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $heroBase.RelPermalink }}">
  
  {{ $heroTypography := resources.Get "css/hero-typography.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $heroTypography.RelPermalink }}">
  
  {{ $heroAnimations := resources.Get "css/hero-animations.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $heroAnimations.RelPermalink }}">
  
  <!-- Cursor styles (if needed) -->
  {{ $cursorCSS := resources.Get "css/cursor.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $cursorCSS.RelPermalink }}">
  
  {{ end }}
</head>
<body>
  <div id="custom-cursor"></div>
  {{ partial "header.html" . }}

  <main>
    {{ block "main" . }}{{ end }}
  </main>

  {{ partial "footer.html" . }}
  
  {{ if $useGSAP }}
  <!-- GSAP core library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/CustomEase.min.js"></script>
  
  <!-- Hero modular JavaScript (optimized) -->
  {{ $heroMain := resources.Get "js/hero-main.js" | resources.Minify }}
  <script src="{{ $heroMain.RelPermalink }}"></script>
  
  {{ $textEffects := resources.Get "js/text-effects.js" | resources.Minify }}
  <script src="{{ $textEffects.RelPermalink }}"></script>
  
  {{ $backgroundText := resources.Get "js/background-text.js" | resources.Minify }}
  <script src="{{ $backgroundText.RelPermalink }}"></script>
  
  <!-- Cursor functionality (if needed) -->
  {{ $cursorJS := resources.Get "js/cursor.js" | resources.Minify }}
  <script src="{{ $cursorJS.RelPermalink }}"></script>
  
  {{ $heroBalls := resources.Get "js/hero-balls.js" | resources.Minify }}
  <script src="{{ $heroBalls.RelPermalink }}" defer></script>

  <!-- Mobile menu -->
  {{ $hamburgerJS := resources.Get "js/hamburger-menu.js" | resources.Minify }}
  <script src="{{ $hamburgerJS.RelPermalink }}"></script>

  {{ end }}
</body>
</html>